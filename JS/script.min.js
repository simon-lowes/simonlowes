var vh = window.innerHeight * 0.01; document.documentElement.style.setProperty('--vh', vh + 'px'); window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-7NV4RLT1ZW'); var canvas = document.getElementById('canvas'); var ctx = canvas.getContext('2d'); var NUM_COLORS = 100; var COLORS_RGB = []; for (var i = 0; i < NUM_COLORS; i++) { COLORS_RGB.push([ Math.floor(Math.random() * 256), Math.floor(Math.random() * 256), Math.floor(Math.random() * 256), ]); } var NUM_COLS = 0; var NUM_ROWS = 0; var currentBgColor = [128, 128, 128]; var targetBgColor = COLORS_RGB[0].slice(); var cellData = []; // Stores current and target values for each cell var bgTransitionProgress = 0; var cellTransitionProgress = 0; var BG_TRANSITION_DURATION = 2000; // 2 seconds for background color transition var CELL_TRANSITION_DURATION = 1500; // 1.5 seconds for cell transitions var lastBgChangeTime = 0; var lastCellChangeTime = 0; function lerp(start, end, t) { return start + (end - start) * t; } function easeInOut(t) { return t < 0.5 ? 2 * t * t : 1 - Math.pow(-2 * t + 2, 2) / 2; } function lerpColor(color1, color2, t) { return [ Math.round(lerp(color1[0], color2[0], t)), Math.round(lerp(color1[1], color2[1], t)), Math.round(lerp(color1[2], color2[2], t)), ]; } var resizeTimeout = null; function debounce(fn, delay) { return function () { if (resizeTimeout) { clearTimeout(resizeTimeout); } resizeTimeout = setTimeout(fn, delay); }; } function initCellData() { cellData = []; for (var i = 0; i < NUM_COLS; i++) { cellData[i] = []; for (var j = 0; j < NUM_ROWS; j++) { var initialNum = Math.floor(Math.random() * NUM_COLORS); cellData[i][j] = { currentNum: initialNum, targetNum: initialNum, currentColor: COLORS_RGB[initialNum].slice(), targetColor: COLORS_RGB[initialNum].slice(), }; } } } function setCanvasSize() { var SCREEN_WIDTH = document.documentElement.clientWidth; var SCREEN_HEIGHT = document.documentElement.clientHeight; canvas.width = SCREEN_WIDTH; canvas.height = SCREEN_HEIGHT; NUM_COLS = Math.floor(SCREEN_WIDTH / 10); NUM_ROWS = Math.floor(SCREEN_HEIGHT / 10); initCellData(); vh = window.innerHeight * 0.01; document.documentElement.style.setProperty('--vh', vh + 'px'); } function draw(timestamp) { var width = canvas.width; var height = canvas.height; var bgElapsed = timestamp - lastBgChangeTime; if (bgElapsed >= BG_TRANSITION_DURATION) { currentBgColor = targetBgColor.slice(); targetBgColor = COLORS_RGB[Math.floor(Math.random() * NUM_COLORS)].slice(); lastBgChangeTime = timestamp; bgElapsed = 0; } bgTransitionProgress = easeInOut( Math.min(bgElapsed / BG_TRANSITION_DURATION, 1) ); var interpolatedBg = lerpColor( currentBgColor, targetBgColor, bgTransitionProgress ); ctx.fillStyle = 'rgb(' + interpolatedBg[0] + ',' + interpolatedBg[1] + ',' + interpolatedBg[2] + ')'; ctx.fillRect(0, 0, width, height); var cellElapsed = timestamp - lastCellChangeTime; if (cellElapsed >= CELL_TRANSITION_DURATION) { for (var i = 0; i < NUM_COLS; i++) { for (var j = 0; j < NUM_ROWS; j++) { if (cellData[i] && cellData[i][j]) { cellData[i][j].currentNum = cellData[i][j].targetNum; cellData[i][j].currentColor = cellData[i][j].targetColor.slice(); var newNum = Math.floor(Math.random() * NUM_COLORS); cellData[i][j].targetNum = newNum; cellData[i][j].targetColor = COLORS_RGB[newNum].slice(); } } } lastCellChangeTime = timestamp; cellElapsed = 0; } cellTransitionProgress = easeInOut( Math.min(cellElapsed / CELL_TRANSITION_DURATION, 1) ); var x = 0; var y = 0; for (var i = 0; i < NUM_COLS; i++) { for (var j = 0; j < NUM_ROWS; j++) { if (cellData[i] && cellData[i][j]) { var cell = cellData[i][j]; var interpolatedColor = lerpColor( cell.currentColor, cell.targetColor, cellTransitionProgress ); ctx.fillStyle = 'rgb(' + interpolatedColor[0] + ',' + interpolatedColor[1] + ',' + interpolatedColor[2] + ')'; var displayNum = cellTransitionProgress < 0.5 ? cell.currentNum : cell.targetNum; ctx.fillText(displayNum, x, y); } y += 10; } x += 10; y = 0; } requestAnimationFrame(draw); } setCanvasSize(); requestAnimationFrame(draw); window.addEventListener('resize', debounce(setCanvasSize, 150)); (function () { var audio = document.getElementById('myAudio'); var player = document.getElementById('audio-player'); var playBtn = document.getElementById('audio-play-btn'); var seekSlider = document.getElementById('audio-seek'); var volumeSlider = document.getElementById('audio-volume'); var muteBtn = document.getElementById('audio-mute-btn'); var timeElapsed = document.getElementById('audio-time-elapsed'); var timeRemaining = document.getElementById('audio-time-remaining'); if (!audio || !player || !playBtn) { return; } var isSeeking = false; var previousVolume = 0.75; // Store volume before muting audio.volume = 0.75; function formatTime(seconds, showNegative) { if (!isFinite(seconds) || isNaN(seconds)) { return showNegative ? '-0:00' : '0:00'; } var absSeconds = Math.abs(Math.floor(seconds)); var mins = Math.floor(absSeconds / 60); var secs = absSeconds % 60; var formatted = mins + ':' + (secs < 10 ? '0' : '') + secs; return showNegative ? '-' + formatted : formatted; } function updatePlayButton() { var isPlaying = !audio.paused; playBtn.setAttribute('aria-pressed', isPlaying ? 'true' : 'false'); playBtn.setAttribute( 'aria-label', isPlaying ? 'Pause Never There' : 'Play Never There' ); } function updateProgress() { if (isSeeking) return; var current = audio.currentTime || 0; var duration = audio.duration || 0; if (duration > 0) { var percent = (current / duration) * 100; seekSlider.value = percent; } if (timeElapsed) { timeElapsed.textContent = formatTime(current, false); } if (timeRemaining) { var remaining = duration - current; timeRemaining.textContent = formatTime(remaining, true); } } function updateMuteButton() { var isMuted = audio.muted || audio.volume === 0; muteBtn.setAttribute('aria-pressed', isMuted ? 'true' : 'false'); muteBtn.setAttribute('aria-label', isMuted ? 'Unmute audio' : 'Mute audio'); } function updateVolumeSlider() { if (volumeSlider) { volumeSlider.value = audio.muted ? 0 : audio.volume * 100; } } function handleError() { player.classList.add('audio-player--error'); playBtn.disabled = true; if (seekSlider) seekSlider.disabled = true; if (volumeSlider) volumeSlider.disabled = true; if (muteBtn) muteBtn.disabled = true; } playBtn.addEventListener('click', function () { if (audio.paused) { var playPromise = audio.play(); if (playPromise && typeof playPromise.catch === 'function') { playPromise.catch(function (err) { console.warn('Audio play failed:', err); }); } } else { audio.pause(); } }); audio.addEventListener('play', updatePlayButton); audio.addEventListener('pause', updatePlayButton); audio.addEventListener('timeupdate', updateProgress); audio.addEventListener('loadedmetadata', updateProgress); audio.addEventListener('durationchange', updateProgress); audio.addEventListener('volumechange', function () { updateMuteButton(); updateVolumeSlider(); }); audio.addEventListener('error', handleError); if (seekSlider) { seekSlider.addEventListener('input', function () { isSeeking = true; var duration = audio.duration || 0; if (duration > 0) { var seekTime = (seekSlider.value / 100) * duration; if (timeElapsed) { timeElapsed.textContent = formatTime(seekTime, false); } if (timeRemaining) { timeRemaining.textContent = formatTime(duration - seekTime, true); } } }); seekSlider.addEventListener('change', function () { var duration = audio.duration || 0; if (duration > 0) { audio.currentTime = (seekSlider.value / 100) * duration; } isSeeking = false; }); } if (volumeSlider) { volumeSlider.addEventListener('input', function () { var vol = volumeSlider.value / 100; audio.volume = vol; audio.muted = vol === 0; if (vol > 0) { previousVolume = vol; } }); } if (muteBtn) { muteBtn.addEventListener('click', function () { if (audio.muted || audio.volume === 0) { audio.muted = false; audio.volume = previousVolume > 0 ? previousVolume : 0.75; } else { previousVolume = audio.volume; audio.muted = true; } }); } updatePlayButton(); updateProgress(); updateMuteButton(); updateVolumeSlider(); })(); 